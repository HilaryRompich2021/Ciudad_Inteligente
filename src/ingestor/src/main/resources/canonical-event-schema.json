{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.edu/canonical-event/1-0.schema.json",
  "title": "CanonicalEventV1",
  "type": "object",
  "required": [
    "event_version","event_type","event_id","producer","source",
    "timestamp","partition_key","geo","severity","payload"
  ],
  "properties": {
    "event_version": {"type":"string","const":"1.0"},
    "event_type": {"type":"string","enum":["panic.button","sensor.lpr","sensor.speed","sensor.acoustic","citizen.report"]},
    "event_id": {"type":"string"},
    "producer": {"type":"string"},
    "source": {"type":"string","enum":["simulated"]},
    "correlation_id": {"type":"string"},
    "trace_id": {"type":"string"},
    "timestamp": {"type":"string","format":"date-time"},
    "partition_key": {"type":"string"},
    "geo": {
      "type":"object",
      "required":["zone"],
      "properties": {
        "zone": {"type":"string"},
        "lat": {"type":"number"},
        "lon": {"type":"number"}
      }
    },
    "severity": {"type":"string","enum":["info","warning","critical"]},
    "payload": {"type":"object"}
  },
  "additionalProperties": false
}
